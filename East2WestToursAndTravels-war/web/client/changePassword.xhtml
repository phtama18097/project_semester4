<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                template="./profile.xhtml">

    <ui:define name="navigation">
        <li class="nav-item">
            <a class="nav-link " >Account Details</a>
        </li>
        <li class="nav-item">
            <a href="#{request.contextPath}/faces/client/profile.xhtml" class="nav-link">Edit Profile</a>
        </li>
        <li class="nav-item">
            <a href="#{request.contextPath}/faces/client/changePassword.xhtml" class="nav-link active">Change Password</a>
        </li>
        <li class="nav-item">
            <a href="#{request.contextPath}/faces/client/tourRegistration.xhtml" class="nav-link">Your Booked Tour</a>
        </li>
        <li class="nav-item">
            <a href="#{request.contextPath}/faces/client/carRegistration.xhtml" class="nav-link">Car Registration History</a>
        </li>
        <li class="nav-item">
            <a style="cursor: pointer" class="nav-link" onclick="$('#btnSignout').click();">Sign Out</a>
        </li>
    </ui:define>
    <ui:define name="clientProfile">
        <h:form enctype="multipart/form-data" class="contact-form mb-3" >
            <div class="row">
                <div class="col-sm-12">
                    <label>Current Password: </label>
                    <h:inputSecret value="#{customerLoginMB.password}" id="current" class="form-control" p:placeholder="Current Password" />
                    <h:message for="current" class="text-danger"/> 
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <label>New Password: </label>
                    <h:inputSecret value="#{customerLoginMB.newPassword}" id="newpass" class="form-control" p:placeholder="New Password" />
                    <h:message for="newpass" class="text-danger"/> 
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <label>Verify Password:</label>
                    <h:inputSecret value="#{customerLoginMB.verifyPassword}" id="verify" class="form-control" p:placeholder="Verify Password" />
                    <h:message for="verify" class="text-danger"/> 
                </div>
            </div>

            <h:commandButton value="UPDATE" action="#{customerLoginMB.changePassword()}" class="btn btn-outline-primary-2 btn-minwidth-sm" />
        </h:form>
    </ui:define>

</ui:composition>
